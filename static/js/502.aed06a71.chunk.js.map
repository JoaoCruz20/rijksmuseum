{"version":3,"file":"static/js/502.aed06a71.chunk.js","mappings":"+NAMMA,EAAYC,EAAAA,GAAAA,IAAU,gYAatBC,EAAuBD,EAAAA,GAAAA,KAAW,yWAelCE,EAA2BF,EAAAA,GAAAA,IAAU,iGAOrCG,EAAkBH,EAAAA,GAAAA,OAAa,8LAY/BI,EAAkBJ,EAAAA,GAAAA,IAAU,oFAM5BK,EAAeL,EAAAA,GAAAA,OAAa,wiBAuB5BM,EAAgBN,EAAAA,GAAAA,IAAU,6GAO1BO,EAAiBP,EAAAA,GAAAA,IAAU,+WAqB3BQ,EAAYR,EAAAA,GAAAA,IAAU,6DAKtBS,EAAYT,EAAAA,GAAAA,IAAU,gDAItBU,EAAoBV,EAAAA,GAAAA,IAAU,uTAiB1BW,EAAU,2DAAuDC,WAA6B,mBAC9FC,EAAe,2DAAuDD,YA2IhF,UAzIe,WAAO,IAAD,EACjB,GAA8BE,EAAAA,EAAAA,YAAoB,eAA3CC,EAAO,KAAEC,EAAU,KAC1B,GAAsCF,EAAAA,EAAAA,UAAmB,IAAG,eAArDG,EAAW,KAAEC,EAAc,KAClC,GAA4BJ,EAAAA,EAAAA,UAAiB,IAAG,eAAzCK,EAAM,KAAEC,EAAS,KACxB,GAA8CN,EAAAA,EAAAA,WAAkB,GAAK,eAA9DO,EAAe,KAAEC,EAAkB,KAC1C,GAAoCR,EAAAA,EAAAA,WAAkB,GAAM,eAArDS,EAAU,KAAEC,EAAa,KAChC,GAAwCV,EAAAA,EAAAA,YAAe,eAAhDW,EAAY,KAAEC,EAAe,KACpC,GAAgCZ,EAAAA,EAAAA,WAAS,GAAK,eAAvCa,EAAQ,KAAEC,EAAW,KAEtBC,EAAgB,yCAAG,WAAOlB,GAAU,iGACrBmB,EAAAA,EAAAA,GAAQnB,EAAK,QAAO,OAAjCoB,EAAI,OAEFC,EAAsB,OAAJD,QAAI,IAAJA,GAAgB,QAAZ,EAAJA,EAAME,kBAAU,WAAZ,EAAJ,EAAkBC,KAAI,SAACC,GAAgC,OAAM,OAADA,QAAC,IAADA,OAAC,EAADA,EAAGC,qBAAqB,IAC5GpB,EAAWgB,GAAM,2CACpB,gBALqB,sCAOhBK,EAAiB,yCAAG,WAAO1B,EAAY2B,GAAY,gFACA,OAAjDzB,EAAkBF,EAAG,yBAAqB2B,GAAO,UACpCR,EAAAA,EAAAA,GAAQjB,EAAU,QAAO,OAAlC,GACU,KADdkB,EAAI,QACAQ,MAAW,iBAC8B,OAAzCC,EAAkB7B,EAAG,iBAAa2B,GAAO,UAC5BR,EAAAA,EAAAA,GAAQU,EAAU,QAAO,OAAlC,GACU,IADV,OACAD,MAAW,iBACM,OAArBf,GAAc,GAAO,kBACd,MAAI,iCAGZO,GAAI,4CACd,gBAZsB,wCAcjBU,EAAe,SAACH,GACfA,QAAmBI,IAAVJ,GAAiC,OAAVA,IAC/BhB,GAAmB,GACnBE,GAAc,GACJa,EAAkBxB,EAAUyB,GAClCK,MAAK,SAACZ,GAAI,OAAIL,EAAgBK,EAAK,IAE/C,EAEMa,EAAS,SAACC,GACd,IAAI1B,EAAgB0B,EAAEC,OAAOC,YAC7BN,EAAatB,EACf,EAUM6B,EAAe,SAACH,GAClBA,EAAEI,iBATa,SAAC9B,GAChBsB,EAAatB,EACjB,CAQI+B,CAAW/B,EACf,EAoCA,OAlCAgC,EAAAA,EAAAA,YAAU,WACNtB,EAAiBlB,EACrB,GAAG,KAEHwC,EAAAA,EAAAA,YAAU,WACN,IAAIC,EAAWC,aAAY,WACpBC,OAAOC,WAAa,IACnB3B,GAAY,GAEZA,GAAY,EAEpB,GAAG,KACH,OAAO,kBAAM4B,cAAcJ,EAAS,CACxC,KAEAD,EAAAA,EAAAA,YAAU,WACN,GAAc,KAAXhC,EAAc,CACjB,IAAIsC,EAAUC,YAAW,YACZ5B,EAAAA,EAAAA,GAAQ,6EAAD,OAA8EX,GAAU,UACnGwB,MAAK,SAACZ,GACX,IAAI4B,EAAkB,GACtBzC,EAAeyC,GACd,IAAI,IAAIC,EAAI,EAAGA,EAAI,GAAIA,IAAI,CAAC,IAAD,IAC0D,EAAlF,GAAiC,OAA1B,OAAJ7B,QAAI,IAAJA,GAAe,QAAX,EAAJA,EAAM8B,OAAO,UAAE,WAAX,EAAJ,EAAiBA,OAAOD,UAA6ClB,KAA3B,OAAJX,QAAI,IAAJA,GAAe,QAAX,EAAJA,EAAM8B,OAAO,UAAE,WAAX,EAAJ,EAAiBA,OAAOD,IAC7DD,EAAOC,GAAS,OAAJ7B,QAAI,IAAJA,GAAe,QAAX,EAAJA,EAAM8B,OAAO,UAAE,WAAX,EAAJ,EAAiBA,OAAOD,GAAGE,GAE7C,CACE5C,EAAeyC,EACpB,GACH,GAAG,KACH,OAAO,kBAAMI,aAAaN,EAAQ,CACtC,CACA,GAAG,CAACtC,KAGH,UAACpB,EAAS,WACN4B,GAAW,2CAAyB,oCACrC,SAAC1B,EAAoB,CAAC+D,SAAUhB,EAAa,UACzC,kBAAOiB,YAAY,SAASC,MAAO/C,EAAQgD,SAAU,SAACtB,GAAC,OA/C1C,SAACA,GAClBzB,EAAUyB,EAAEC,OAAOoB,MACvB,CA6CmEE,CAAavB,EAAE,MAE7E1B,EAASF,EAAYiB,KAAI,SAACmC,EAAeC,GACtC,OACA,SAAC5D,EAAiB,CAAsB6D,KAAK,SAASN,YAAY,oBAAmB,UACjF,mBAAgCO,QAAS,SAAC3B,GAAC,OAAID,EAAOC,EAAE,EAAC,SAAEwB,GAAM,iBAA1CC,KAAoD,cADhDA,GAGlC,IAAK,IACN,SAAClE,EAAe,WACZ,SAACC,EAAY,CAACoE,KAAK,SAASD,QAASxB,EAAa,sBAGtD3B,GAAmB,SAACnB,EAAwB,UAC/B,OAAPa,QAAO,IAAPA,OAAO,EAAPA,EAASmB,KAAI,SAACgC,EAAaI,GAAqB,OAC9C,SAACnE,EAAe,CAACsE,KAAK,SAASD,QAAS,SAAC3B,GAAC,OAAKD,EAAOC,EAAE,EAAC,SAA4BqB,GAAK,UAAxBI,EAAK,YAAIJ,GAAkC,OAGrH,UAAC5D,EAAa,YACF,oCAAwB,OAAZmB,QAAY,IAAZA,OAAY,EAAZA,EAAcc,SACjChB,GAAa,SAAChB,EAAc,UACZ,OAAZkB,QAAY,IAAZA,GAAwB,QAAZ,EAAZA,EAAcQ,kBAAU,WAAZ,EAAZ,EAA0BC,KAAI,SAACgC,EAAWI,GAA6B,OACpE,UAAC9D,EAAS,YACN,wBAAsB,OAAL0D,QAAK,IAALA,OAAK,EAALA,EAAOQ,OAAfJ,IACT,SAAC,KAAI,CAACK,GAAI,CACNC,SAAS,UACTC,KAAK,GAAD,OAAKP,IACVQ,MAAO,CACN/C,KAAMmC,GACR,0BAEM,OAGnB,SAACzD,EAAS,WACP,gDAMhB,C","sources":["components/SearchEngine.tsx"],"sourcesContent":["/* eslint-disable no-restricted-globals */\r\nimport React, { Key, useEffect, useState} from \"react\";\r\nimport styled from \"styled-components\";\r\nimport fetcher from \"../backend/fetcher\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst Container = styled.div`\r\ndisplay:flex;\r\nflex-direction:column;\r\nborder-style: solid;\r\nmargin: 0 4% 2% 4%;\r\npadding: 10% 25% 10% 25%;\r\nbox-shadow: rgba(0, 0, 0, 0.25) 0px 54px 55px, rgba(0, 0, 0, 0.12) 0px -12px 30px, rgba(0, 0, 0, 0.12) 0px 4px 6px, rgba(0, 0, 0, 0.17) 0px 12px 13px, rgba(0, 0, 0, 0.09) 0px -3px 5px;\r\n    h1{\r\n    display:flex;\r\n    justify-content: center;\r\n    }\r\n`;\r\n\r\nconst SearchInputContainer = styled.form`\r\ndisplay:flex;\r\njustify-content: center;\r\n    input {\r\n    padding: 7px 40px 7px 40px;\r\n    margin: 0 2% 0 0;\r\n    font-size: 16px;\r\n    letter-spacing: 2px;\r\n    text-decoration: none;\r\n    color: #000;\r\n    border: 3px solid;\r\n    box-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;\r\n    }\r\n`;\r\n\r\nconst SuggestedSearchContainer = styled.div`\r\ndisplay:flex;\r\nmargin: 40px;\r\nflex-wrap: wrap;\r\njustify-content:center;\r\n`;\r\n\r\nconst SuggestedSearch = styled.button`\r\nborder-radius: 10px;\r\nborder: 2px solid #000;\r\npadding :20px;\r\nbackground-color: #000;\r\ncolor: #ffffff;\r\nmargin:5px;\r\n    &:hover{\r\n    transform: scale(1.1)\r\n    }\r\n`;\r\n\r\nconst ButtonContainer = styled.div`\r\ndisplay:flex;\r\njustify-content:center;\r\nmargin:10px 0 0 0;\r\n`;\r\n\r\nconst SubmitButton = styled.button`\r\nfont-family: \"Rijksmuseum-Normal\", sans-serif;\r\nfont-size: 16px;\r\nletter-spacing: 2px;\r\ntext-decoration: none;\r\ntext-transform: uppercase;\r\ncolor: #000;\r\nbackground-color: #d80032;\r\ncursor: pointer;\r\nborder: 3px solid;\r\npadding: 0.25em 0.5em;\r\nbox-shadow: 1px 1px 0px 0px, 2px 2px 0px 0px, 3px 3px 0px 0px, 4px 4px 0px 0px, 5px 5px 0px 0px;\r\nposition: relative;\r\nuser-select: none;\r\n-webkit-user-select: none;\r\ntouch-action: manipulation;\r\n    &:active {\r\n    box-shadow: 0px 0px 0px 0px;\r\n    top: 5px;\r\n    left: 5px;\r\n  }  \r\n`;\r\n\r\nconst SearchResults = styled.div`\r\nmargin: 2% 0 2% 0;\r\ndisplay: flex;\r\njustify-content:center;\r\nflex-direction:column;\r\n`;\r\n\r\nconst ReceivedSearch = styled.div`\r\nheight: 100%;\r\ndisplay: flex;\r\nflex-direction: column;\r\nflex-wrap: wrap;\r\n    h2{\r\n        margin:2%;\r\n\r\n    }\r\n    a {\r\n        color: black;\r\n        padding: 3% 0.2%;\r\n        text-decoration: none;\r\n        &:hover {\r\n            transform: scale(1.05)\r\n            color: blue;\r\n            text-decoration: underline;\r\n        }\r\n    }\r\n`;\r\n\r\nconst InfoBlock = styled.div`\r\nflex-direction: row;\r\ndisplay:flex;\r\n`\r\n\r\nconst NoResults = styled.div`\r\ncontent: \"No Results\";\r\n`;\r\n\r\nconst SuggestionResults = styled.div`\r\ndisplay:flex;\r\nflex-wrap: wrap;\r\njustify-content:center;\r\nbutton{\r\n    width: 265px;\r\n    padding: 7px 40px 7px 7px;\r\n    font-size: 16px;\r\n    background-color: white;\r\n    text-align:left;\r\n    &:hover {\r\n        transform: scale(1.05);\r\n        text-decoration: underline;\r\n    }\r\n}\r\n`\r\n\r\n    const url:string = `https://www.rijksmuseum.nl/api/nl/collection?key=${process.env.REACT_APP_API_KEY}&toppieces=true`\r\n    const makerurl:string = `https://www.rijksmuseum.nl/api/nl/collection?key=${process.env.REACT_APP_API_KEY}`;\r\n\r\nconst Search = () => {\r\n    const [myArray, setMyArray] = useState<string[]>();\r\n    const [suggestions, setSuggestions] = useState<string[]>([]);      \r\n    const [search, setSearch] = useState<string>('');\r\n    const [completedSearch, setCompletedSearch] = useState<boolean>(true);\r\n    const [isReceived, setIsReceived] = useState<boolean>(false);\r\n    const [researchData, setResearchData] = useState<any>();\r\n    const [isMobile, setIsMobile] = useState(true);  \r\n    \r\n    const firstDataFetcher = async (url:string) => {\r\n        let data = await fetcher(url, \"call\")\r\n        // if anoniem do not repeat, make logic about that\r\n        const names: string[] = data?.artObjects?.map((r:{principalOrFirstMaker:string}) => r?.principalOrFirstMaker)\r\n        setMyArray(names)\r\n    }  \r\n\r\n    const resultDataFetcher = async (url:string, param:string) =>{\r\n        let makerurl:string = url + `&involvedMaker=${param}`\r\n        let data = await fetcher(makerurl, \"call\")\r\n        if(data.count === 0){\r\n            let titleurl:string = url + `&title=${param}`\r\n            let data = await fetcher(titleurl, \"call\")\r\n            if(data.count === 0){\r\n                setIsReceived(false);\r\n                return null\r\n            }\r\n        } \r\n        return data\r\n    }\r\n\r\n    const searchParams = (param:string) => {\r\n        if(param && param !== undefined && param !== null){\r\n            setCompletedSearch(false)\r\n            setIsReceived(true);\r\n           let data = resultDataFetcher(makerurl, param);\r\n           data.then((data)=> setResearchData(data))\r\n        }    \r\n    }\r\n\r\n    const Search = (e:any) => {\r\n      let search:string = e.target.textContent;\r\n      searchParams(search)    \r\n    }\r\n\r\n    const textSearch = (search:string) => {\r\n        searchParams(search)    \r\n    }\r\n\r\n    const handleChange = (e:React.ChangeEvent<HTMLInputElement>): void => {\r\n        setSearch(e.target.value);\r\n    };\r\n\r\n    const handleSubmit = (e:any) => {\r\n        e.preventDefault();\r\n        textSearch(search)\r\n    };\r\n\r\n    useEffect(() => {\r\n        firstDataFetcher(url);\r\n    }, []);\r\n\r\n    useEffect(()=> {\r\n        let interval = setInterval(() =>{\r\n            if(window.innerWidth < 881){\r\n                setIsMobile(false)\r\n            } else {\r\n                setIsMobile(true)\r\n            }\r\n        }, 500)\r\n        return () => clearInterval(interval)\r\n    })\r\n\r\n    useEffect(()=> {\r\n        if(search !== \"\"){       \r\n        let timeout = setTimeout(()=> {\r\n          let data = fetcher(`https://www.rijksmuseum.nl/api/nl/collection?key=XmkBt1Tj&involvedMaker&q=${search}`, \"search\")\r\n            data.then((data) => {\r\n            let bucket:string[] = []\r\n            setSuggestions(bucket)\r\n             for(let i = 0; i < 10; i++){\r\n                if(data?.facets[0]?.facets[i] != null || data?.facets[0]?.facets[i] !== undefined){\r\n                    bucket[i] = data?.facets[0]?.facets[i].key\r\n                }\r\n              } \r\n                setSuggestions(bucket)                \r\n           })\r\n        }, 500)\r\n        return () => clearTimeout(timeout)\r\n    }\r\n    }, [search])\r\n\r\n    return (    \r\n     <Container>\r\n        {isMobile ? <h1>Search Engine</h1> : <h1>Search</h1>}        \r\n        <SearchInputContainer onSubmit={handleSubmit}>    \r\n            <input placeholder=\"Search\" value={search} onChange={(e)=> handleChange(e)}/>           \r\n        </SearchInputContainer>\r\n        {search ? suggestions.map((result:string, index: Key| undefined) => {\r\n            return (\r\n            <SuggestionResults key={`div-${index}`} role=\"button\" placeholder=\"Button to product\">\r\n                <button key={`button-${index}`} onClick={(e)=> Search(e)}>{result}</button>\r\n            </SuggestionResults>\r\n        )}) : \"\"}\r\n        <ButtonContainer>\r\n            <SubmitButton type=\"submit\" onClick={handleSubmit}>Submit</SubmitButton>\r\n        </ButtonContainer>\r\n   \r\n       {completedSearch ?  <SuggestedSearchContainer>            \r\n             {myArray?.map((value:string,index:Key | undefined) => (\r\n                <SuggestedSearch type=\"button\" onClick={(e) => Search(e)} key={`${index}-${value}`}>{value}</SuggestedSearch>\r\n            ))}         \r\n        </SuggestedSearchContainer> : \r\n        <SearchResults>               \r\n                    <h3>Count: {researchData?.count}</h3>\r\n            {isReceived ? <ReceivedSearch>\r\n                {researchData?.artObjects?.map((value: any,index: Key | null | undefined) => (\r\n                    <InfoBlock>\r\n                        <h2 key={index}>{value?.title}</h2>\r\n                        <Link to={{\r\n                            pathname:\"/search\",\r\n                            hash: `${index}`\r\n                        }} state={{\r\n                            data: value\r\n                        }}>\r\n                             Info&rarr;</Link>\r\n                    </InfoBlock>\r\n            ))} \r\n            </ReceivedSearch> :\r\n             <NoResults>\r\n                <h1>Not Received</h1>\r\n             </NoResults> }\r\n        </SearchResults> }\r\n\r\n     </Container>\r\n    );\r\n}\r\n\r\nexport default Search;"],"names":["Container","styled","SearchInputContainer","SuggestedSearchContainer","SuggestedSearch","ButtonContainer","SubmitButton","SearchResults","ReceivedSearch","InfoBlock","NoResults","SuggestionResults","url","process","makerurl","useState","myArray","setMyArray","suggestions","setSuggestions","search","setSearch","completedSearch","setCompletedSearch","isReceived","setIsReceived","researchData","setResearchData","isMobile","setIsMobile","firstDataFetcher","fetcher","data","names","artObjects","map","r","principalOrFirstMaker","resultDataFetcher","param","count","titleurl","searchParams","undefined","then","Search","e","target","textContent","handleSubmit","preventDefault","textSearch","useEffect","interval","setInterval","window","innerWidth","clearInterval","timeout","setTimeout","bucket","i","facets","key","clearTimeout","onSubmit","placeholder","value","onChange","handleChange","result","index","role","onClick","type","title","to","pathname","hash","state"],"sourceRoot":""}